{% extends "base.html" %}
{% load i18n %}
{% load td_filters %}

{% block stylesheets %}
{{ block.super }}
            <link rel="stylesheet" href="{{ "//openlayers.org/en/"|resource_remotelocal:"openlayers/" }}v3.1.1/css/ol.css" type="text/css">
            <style>
              .map {
                height: 600px;
                width: 100%;
              }
            </style>
{% endblock %}

{% block remote_scripts %}
{{ block.super }}
<script src="{{ "//openlayers.org/en/"|resource_remotelocal:"openlayers/" }}v3.1.1/build/ol.js" type="text/javascript"></script>
{% endblock %}
{% block local_scripts %}
<script type="text/javascript">
  var map = new ol.Map({
    target: 'map',
    layers: [
      new ol.layer.Tile({
        source: new ol.source.OSM()
      })
    ],
    view: new ol.View({
      center: ol.proj.transform([8.22669, 46.80121], 'EPSG:4326', 'EPSG:900913'),
      zoom: 8,
      minZoom: 8,
      maxZoom: 17
    })
  });

  //$.ajax("{% url 'apps.event.query.messages' %}")
    //.done(function() {
         //Create pointers on the map
    //});
</script>
{% endblock %}

{% block content %}
<div class="pure-g">
    <div class="pure-u-1 pure-u-md-4-5">
        <div id="map" class="map"></div>
    </div>
    <div class="pure-u-1 pure-u-md-1-5">
        <div class="l-box">
            <h3>{{ event.name }}</h3>
            <h3 class="information-head">{% trans "Leave a message" %}</h3>
        </div>
    </div>
</div>
{% endblock %}
